
## RSTP

**RSTP(Rapid Spanning Tree Protocol)** <br/>
네트워크의 루프(Loop) 현상을 방지하면서도, 네트워크 장애 발생 시 복구 속도를 획기적으로 높인 프로토콜입니다.

<img width="524" height="404" alt="image" src="https://github.com/user-attachments/assets/66d5feff-5833-44ec-b557-7e40be10d2d8" />

<img width="600" height="324" alt="image" src="https://github.com/user-attachments/assets/5422e9b8-ce95-4ee5-a2cf-2bf328a17a1d" />


#### SW1~3

conf t<br/>
spanning-tree mode <br/>

- mst
- pvst
- rapid-pvst

(통상적 IEEE 표준)<br/>
STP -> RSTP -> MSTP <br/>

(CISCO 버전들)<br/>
PVST -> Rapid PVST -> MSTP <br/>

스위치 사이에 스패닝트리가 동작될때 VLAN 갯수를 기준으로 나눠준다.

spaaning-tree mode rapid-pvst


<img width="658" height="520" alt="image" src="https://github.com/user-attachments/assets/813dc9f1-77aa-4cd9-9957-b5b6ba6df537" />

#### SW2

<img width="689" height="355" alt="image" src="https://github.com/user-attachments/assets/5d40fefa-6bcf-4caa-8d94-73529cbf6204" />


## MSTP


○ Multiple Spanning Tree Protocol ( 802.1s(최초정의) → 802.1q(통합) )의 출현 배경: STP의 진화 과정

- MSTP는 기존 STP 방식들의 단점을 보완하며 등장한, 가장 효율적인 최종 형태다.<br/>
→ CST의 '부하 분산 불가' 문제와 PVST+의 '리소스 과부하' 문제를 동시에 해결한 것이 바로 MSTP다.<br/>
- MSTP는 RSTP(802.1w)를 기본 엔진으로 사용하여 다음과 같은 RSTP의 속도 향상 기능을 동일하게 사용<br/>

빠른 컨버전스: 이웃 스위치 장애를 6초 이내에 감지하는 등 RSTP의 신속한 장애 복구

Edge Port (PortFast): PC나 서버가 연결된 포트를 즉시 활성화하는 기능

모든 신속한 동작: 링크가 활성화될 때의 Proposal/Agreement 과정 등 RSTP의 모든 빠른 동작 방식

### 실무에서 MSTP는 주요 사용처

MSTP는 확장성(Scalability)이 핵심 키워드다. 즉, VLAN의 수가 매우 많은 대규모 네트워크에서 진가를 발휘한다.<br/>

**데이터 센터 (Data Center), 대규모 기업 네트워크 (Large Enterprise), 인터넷 서비스 제공업체 (ISP)**

SW1(config)#no vlan 2-20<br/>
SW1(config)#int range g0/0-1<br/>
switchport trunk en dot1q <br/>
switchport mode trunk <br/>
switchport trunk allowed vlan 10,20,30,40<br/>
switchport nonegotiate <br/>
<br/>
SW1(config)#vtp DOmain A<br/>
SW1(config)#vtp mode server <br/>
SW1(config)#vlan 10,20,30,40<br/>
vtp domain A<br/>
vtp mode client<br/>
































































































































































































